
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>IO &#8212; textacy 0.10.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Visualization" href="viz.html" />
    <link rel="prev" title="Vectorization &amp; Topic Modeling" href="vsm_and_tm.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-textacy.io.text">
<span id="io"></span><span id="ref-api-reference-io"></span><h1>IO<a class="headerlink" href="#module-textacy.io.text" title="Permalink to this headline">¶</a></h1>
<div class="section" id="text">
<h2>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h2>
<p>Functions for reading from and writing to disk records in plain text format,
either as one text per file or one text per <em>line</em> in a file.</p>
<dl class="function">
<dt id="textacy.io.text.read_text">
<code class="sig-prename descclassname">textacy.io.text.</code><code class="sig-name descname">read_text</code><span class="sig-paren">(</span><em class="sig-param">filepath: Union[str, pathlib.Path], *, mode: str = 'rt', encoding: Optional[str] = None, lines: bool = False</em><span class="sig-paren">)</span> &#x2192; Iterable[str]<a class="reference internal" href="../_modules/textacy/io/text.html#read_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.text.read_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a text file at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, either all at once
or streaming line-by-line.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – Path to file on disk from which data will be read.</p></li>
<li><p><strong>mode</strong> – Mode with which <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is opened.</p></li>
<li><p><strong>encoding</strong> – Name of the encoding used to decode or encode the data in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.
Only applicable in text mode.</p></li>
<li><p><strong>lines</strong> – If False, all data is read in at once;
otherwise, data is read in one line at a time.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Next line of text to read in.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is False, wrap this output in <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#next" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">next()</span></code></a> to conveniently
access the full text.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.text.write_text">
<code class="sig-prename descclassname">textacy.io.text.</code><code class="sig-name descname">write_text</code><span class="sig-paren">(</span><em class="sig-param">data: Union[str, Iterable[str]], filepath: Union[str, pathlib.Path], *, mode: str = 'wt', encoding: Optional[str] = None, make_dirs: bool = False, lines: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/textacy/io/text.html#write_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.text.write_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Write text <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, either all at once
or streaming line-by-line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>If lines is False</strong><strong>, </strong><strong>a single string to write to disk; for example::</strong> (<em>data</em>) – <p>“isnt rick and morty that thing you get when you die and your body gets all stiff”</p>
<p>If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is True, an iterable of strings to write to disk, one
item per line; for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;isnt rick and morty that thing you get when you die and your body gets all stiff&quot;</span><span class="p">,</span>
 <span class="s2">&quot;You&#39;re thinking of rigor mortis. Rick and morty is when you get trolled into watching &quot;</span><span class="n">never</span> <span class="n">gonna</span> <span class="n">give</span> <span class="n">you</span> <span class="n">up</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
 <span class="s2">&quot;That&#39;s rickrolling. Rick and morty is a type of pasta&quot;</span><span class="p">]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>filepath</strong> – Path to file on disk to which data will be written.</p></li>
<li><p><strong>mode</strong> – Mode with which <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is opened.</p></li>
<li><p><strong>encoding</strong> – Name of the encoding used to decode or encode the data in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.
Only applicable in text mode.</p></li>
<li><p><strong>make_dirs</strong> – If True, automatically create (sub)directories
if not already present in order to write <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
<li><p><strong>lines</strong> – If False, all data is written at once;
otherwise, data is written to disk one line at a time.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.json"></span><div class="section" id="json">
<h2>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h2>
<p>Functions for reading from and writing to disk records in JSON format,
as one record per file or one record per <em>line</em> in a file.</p>
<dl class="function">
<dt id="textacy.io.json.read_json">
<code class="sig-prename descclassname">textacy.io.json.</code><code class="sig-name descname">read_json</code><span class="sig-paren">(</span><em class="sig-param">filepath: Union[str, pathlib.Path], *, mode: str = 'rt', encoding: Optional[str] = None, lines: bool = False</em><span class="sig-paren">)</span> &#x2192; Iterable<a class="reference internal" href="../_modules/textacy/io/json.html#read_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.read_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a JSON file at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, either all at once
or streaming item-by-item.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – Path to file on disk from which data will be read.</p></li>
<li><p><strong>mode</strong> – Mode with which <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is opened.</p></li>
<li><p><strong>encoding</strong> – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>. Only applicable in text mode.</p></li>
<li><p><strong>lines</strong> – If False, all data is read in at once; otherwise, data is read in
one line at a time.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Next JSON item; could be a dict, list, int, float, str,
depending on the data and the value of <code class="docutils literal notranslate"><span class="pre">lines</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.json.read_json_mash">
<code class="sig-prename descclassname">textacy.io.json.</code><code class="sig-name descname">read_json_mash</code><span class="sig-paren">(</span><em class="sig-param">filepath: Union[str, pathlib.Path], *, mode: str = 'rt', encoding: Optional[str] = None, buffer_size: int = 2048</em><span class="sig-paren">)</span> &#x2192; Iterable<a class="reference internal" href="../_modules/textacy/io/json.html#read_json_mash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.read_json_mash" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a JSON file at <code class="docutils literal notranslate"><span class="pre">filepath</span></code> one item at a time,
where all of the items have been mashed together, end-to-end, on a single line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – Path to file on disk to which data will be written.</p></li>
<li><p><strong>mode</strong> – Mode with which <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is opened.</p></li>
<li><p><strong>encoding</strong> – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>. Only applicable in text mode.</p></li>
<li><p><strong>buffer_size</strong> – Number of bytes to read in as a chunk.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Next valid JSON object, converted to native Python equivalent.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Storing JSON data in this format is Not Good. Reading it is doable, so
this function is included for users’ convenience, but note that
there is no analogous <code class="docutils literal notranslate"><span class="pre">write_json_mash()</span></code> function. Don’t do it.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.io.json.write_json">
<code class="sig-prename descclassname">textacy.io.json.</code><code class="sig-name descname">write_json</code><span class="sig-paren">(</span><em class="sig-param">data: Any, filepath: Union[str, pathlib.Path], *, mode: str = 'wt', encoding: Optional[str] = None, make_dirs: bool = False, lines: bool = False, ensure_ascii: bool = False, separators: Tuple[str, str] = (',', ':'), sort_keys: bool = False, indent: Union[int, str, None] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/textacy/io/json.html#write_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.write_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Write JSON <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, either all at once
or streaming item-by-item.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – <p>JSON data to write to disk, including any Python objects
encodable by default in <a class="reference external" href="https://docs.python.org/3.6/library/json.html#module-json" title="(in Python v3.6)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a>, as well as dates and datetimes.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Harrison Bergeron&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;The year was 2081, and everybody was finally equal.&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;2BR02B&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Everything was perfectly swell.&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Slaughterhouse-Five&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;All this happened, more or less.&quot;</span><span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is False, all of <code class="docutils literal notranslate"><span class="pre">data</span></code> is written as a single object;
if True, each item is written to a separate line in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p>
</p></li>
<li><p><strong>filepath</strong> – Path to file on disk to which data will be written.</p></li>
<li><p><strong>mode</strong> – Mode with which <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is opened.</p></li>
<li><p><strong>encoding</strong> – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>. Only applicable in text mode.</p></li>
<li><p><strong>make_dirs</strong> – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
<li><p><strong>lines</strong> – If False, all data is written at once;
otherwise, data is written to disk one item at a time.</p></li>
<li><p><strong>ensure_ascii</strong> – If True, all non-ASCII characters are escaped;
otherwise, non-ASCII characters are output as-is.</p></li>
<li><p><strong>separators</strong> – An (item_separator, key_separator) pair
specifying how items and keys are separated in output.</p></li>
<li><p><strong>sort_keys</strong> – If True, each output dictionary is sorted by key;
otherwise, dictionary ordering is taken as-is.</p></li>
<li><p><strong>indent</strong> – If a non-negative integer or string, items are pretty-printed
with the specified indent level; if 0, negative, or “”, items are separated
by newlines; if None, the most compact representation is used
when storing <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/library/json.html#json.dump">https://docs.python.org/3/library/json.html#json.dump</a></p>
</div>
</dd></dl>

<dl class="class">
<dt id="textacy.io.json.ExtendedJSONEncoder">
<em class="property">class </em><code class="sig-prename descclassname">textacy.io.json.</code><code class="sig-name descname">ExtendedJSONEncoder</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">skipkeys=False</em>, <em class="sig-param">ensure_ascii=True</em>, <em class="sig-param">check_circular=True</em>, <em class="sig-param">allow_nan=True</em>, <em class="sig-param">sort_keys=False</em>, <em class="sig-param">indent=None</em>, <em class="sig-param">separators=None</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/textacy/io/json.html#ExtendedJSONEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.ExtendedJSONEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Sub-class of <a class="reference external" href="https://docs.python.org/3.6/library/json.html#json.JSONEncoder" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">json.JSONEncoder</span></code></a>, used to write JSON data to disk in
<a class="reference internal" href="#textacy.io.json.write_json" title="textacy.io.json.write_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_json()</span></code></a> while handling a broader range of Python objects.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.6/library/datetime.html#datetime.datetime" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> =&gt; ISO-formatted string</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.6/library/datetime.html#datetime.date" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code></a> =&gt; ISO-formatted string</p></li>
</ul>
<dl class="method">
<dt id="textacy.io.json.ExtendedJSONEncoder.default">
<code class="sig-name descname">default</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/textacy/io/json.html#ExtendedJSONEncoder.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.ExtendedJSONEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-textacy.io.csv"></span><div class="section" id="csv">
<h2>CSV<a class="headerlink" href="#csv" title="Permalink to this headline">¶</a></h2>
<p>Functions for reading from and writing to disk records in CSV format, where
CSVs may be delimited not only by commas (the default) but tabs, pipes, and
other valid one-char delimiters.</p>
<dl class="function">
<dt id="textacy.io.csv.read_csv">
<code class="sig-prename descclassname">textacy.io.csv.</code><code class="sig-name descname">read_csv</code><span class="sig-paren">(</span><em class="sig-param">filepath: Union[str, pathlib.Path], *, encoding: Optional[str] = None, fieldnames: Union[str, Sequence[str], None] = None, dialect: Union[str, Type[csv.Dialect]] = 'excel', delimiter: str = ',', quoting: int = 2</em><span class="sig-paren">)</span> &#x2192; Iterable[Union[list, dict]]<a class="reference internal" href="../_modules/textacy/io/csv.html#read_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.csv.read_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a CSV file at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, streaming line-by-line,
where each line is a list of strings and/or floats whose values
are separated by <code class="docutils literal notranslate"><span class="pre">delimiter</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – Path to file on disk from which data will be read.</p></li>
<li><p><strong>encoding</strong> – Name of the encoding used to decode or encode the data in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
<li><p><strong>fieldnames</strong> – If specified, gives names for columns of values,
which are used as keys in an ordered dictionary representation
of each line’s data. If ‘infer’, the first kB of data is analyzed
to make a guess about whether the first row is a header of column
names, and if so, those names are used as keys. If None, no column
names are used, and each line is returned as a list of strings/floats.</p></li>
<li><p><strong>dialect</strong> – Grouping of formatting parameters that determine how
the data is parsed when reading/writing. If ‘infer’, the first kB
of data is analyzed to get a best guess for the correct dialect.</p></li>
<li><p><strong>delimiter</strong> – 1-character string used to separate fields in a row.</p></li>
<li><p><strong>quoting</strong> – Type of quoting to apply to field values. See:
<a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.QUOTE_NONNUMERIC">https://docs.python.org/3/library/csv.html#csv.QUOTE_NONNUMERIC</a></p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>List[obj]</em> – Next row, whose elements are strings and/or floats.
If <code class="docutils literal notranslate"><span class="pre">fieldnames</span></code> is None or ‘infer’ doesn’t detect a header row.</p>
<p><em>or</em></p>
<p>Dict[str, obj]: Next row, as an ordered dictionary of (key, value) pairs,
where keys are column names and values are the corresponding strings
and/or floats. If <code class="docutils literal notranslate"><span class="pre">fieldnames</span></code> is a list of column names or ‘infer’
detects a header row.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.reader">https://docs.python.org/3/library/csv.html#csv.reader</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.io.csv.write_csv">
<code class="sig-prename descclassname">textacy.io.csv.</code><code class="sig-name descname">write_csv</code><span class="sig-paren">(</span><em class="sig-param">data: Union[Iterable[Dict[str, Any]], Iterable[Iterable]], filepath: Union[str, pathlib.Path], *, encoding: Optional[str] = None, make_dirs: bool = False, fieldnames: Optional[Sequence[str]] = None, dialect: str = 'excel', delimiter: str = ',', quoting: int = 2</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/textacy/io/csv.html#write_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.csv.write_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write rows of <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, where each row is an iterable
or a dictionary of strings and/or numbers, written to one line with values
separated by <code class="docutils literal notranslate"><span class="pre">delimiter</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – <p>If <code class="docutils literal notranslate"><span class="pre">fieldnames</span></code> is None, an iterable of iterables of strings
and/or numbers to write to disk; for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="s1">&#39;That was a great movie!&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;The movie was okay, I guess.&#39;</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;Worst. Movie. Ever.&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">]]</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">fieldnames</span></code> is specified, an iterable of dictionaries with
string and/or number values to write to disk; for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;That was a great movie!&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;The movie was okay, I guess.&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;Worst. Movie. Ever.&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">}]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>filepath</strong> – Path to file on disk to which data will be written.</p></li>
<li><p><strong>encoding</strong> – Name of the encoding used to decode or encode the data in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
<li><p><strong>make_dirs</strong> – If True, automatically create (sub)directories if not already present
in order to write <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
<li><p><strong>fieldnames</strong> – <p>Sequence of keys that identify the order in which
values in each rows’ dictionary is written to <code class="docutils literal notranslate"><span class="pre">filepath</span></code>. These are
included in <code class="docutils literal notranslate"><span class="pre">filepath</span></code> as a header row of column names.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only specify this if <code class="docutils literal notranslate"><span class="pre">data</span></code> is an iterable of dictionaries.</p>
</div>
</p></li>
<li><p><strong>dialect</strong> – Grouping of formatting parameters that determine how
the data is parsed when reading/writing.</p></li>
<li><p><strong>delimiter</strong> – 1-character string used to separate fields in a row.</p></li>
<li><p><strong>quoting</strong> – Type of quoting to apply to field values. See:
<a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.QUOTE_NONNUMERIC">https://docs.python.org/3/library/csv.html#csv.QUOTE_NONNUMERIC</a></p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.writer">https://docs.python.org/3/library/csv.html#csv.writer</a></p>
</div>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.matrix"></span><div class="section" id="matrix">
<h2>Matrix<a class="headerlink" href="#matrix" title="Permalink to this headline">¶</a></h2>
<p>Functions for reading from and writing to disk CSC and CSR sparse matrices
in numpy binary format.</p>
<dl class="function">
<dt id="textacy.io.matrix.read_sparse_matrix">
<code class="sig-prename descclassname">textacy.io.matrix.</code><code class="sig-name descname">read_sparse_matrix</code><span class="sig-paren">(</span><em class="sig-param">filepath: Union[str, pathlib.Path], *, kind: str = 'csc'</em><span class="sig-paren">)</span> &#x2192; Union[scipy.sparse.csc.csc_matrix, scipy.sparse.csr.csr_matrix]<a class="reference internal" href="../_modules/textacy/io/matrix.html#read_sparse_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.matrix.read_sparse_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the data, indices, indptr, and shape arrays from a <code class="docutils literal notranslate"><span class="pre">.npz</span></code> file on disk
at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, and return an instantiated sparse matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – Path to file on disk from which data will be read.</p></li>
<li><p><strong>kind</strong> (<em>{'csc'</em><em>, </em><em>'csr'}</em>) – Kind of sparse matrix to instantiate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instantiated sparse matrix, whose type depends on the value of <code class="docutils literal notranslate"><span class="pre">kind</span></code>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.io.html#numpy-binary-files-npy-npz">https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.io.html#numpy-binary-files-npy-npz</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.io.matrix.write_sparse_matrix">
<code class="sig-prename descclassname">textacy.io.matrix.</code><code class="sig-name descname">write_sparse_matrix</code><span class="sig-paren">(</span><em class="sig-param">data: Union[scipy.sparse.csc.csc_matrix, scipy.sparse.csr.csr_matrix], filepath: Union[str, pathlib.Path], *, compressed: bool = True, make_dirs: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/textacy/io/matrix.html#write_sparse_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.matrix.write_sparse_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Write sparse matrix <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, optionally compressed,
into a single <code class="docutils literal notranslate"><span class="pre">.npz</span></code> file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – </p></li>
<li><p><strong>filepath</strong> – Path to file on disk to which data will be written. If <code class="docutils literal notranslate"><span class="pre">filepath</span></code>
does not end in <code class="docutils literal notranslate"><span class="pre">.npz</span></code>, that extension is automatically appended to the name.</p></li>
<li><p><strong>compressed</strong> – If True, save arrays into a single file in compressed numpy binary format.</p></li>
<li><p><strong>make_dirs</strong> – If True, automatically create (sub)directories
if not already present in order to write <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.io.html#numpy-binary-files-npy-npz">https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.io.html#numpy-binary-files-npy-npz</a></p>
</div>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.spacy"></span><div class="section" id="spacy">
<h2>spaCy<a class="headerlink" href="#spacy" title="Permalink to this headline">¶</a></h2>
<p>Functions for reading from and writing to disk spacy documents in either
pickle or binary format. Be warned: Both formats have pros and cons.</p>
<dl class="function">
<dt id="textacy.io.spacy.read_spacy_docs">
<code class="sig-prename descclassname">textacy.io.spacy.</code><code class="sig-name descname">read_spacy_docs</code><span class="sig-paren">(</span><em class="sig-param">filepath: Union[str, pathlib.Path], *, format: str = 'pickle', lang: Union[str, spacy.language.Language, None] = None</em><span class="sig-paren">)</span> &#x2192; Iterable[spacy.tokens.doc.Doc]<a class="reference internal" href="../_modules/textacy/io/spacy.html#read_spacy_docs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.spacy.read_spacy_docs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a file at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, written either in pickle or binary
format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – Path to file on disk from which data will be read.</p></li>
<li><p><strong>format</strong> (<em>{&quot;pickle&quot;</em><em>, </em><em>&quot;binary&quot;}</em>) – <p>Format of the data that was written to disk.
If ‘pickle’, use <code class="docutils literal notranslate"><span class="pre">pickle</span></code> in python’s stdlib; if ‘binary’, use
the 3rd-party <code class="docutils literal notranslate"><span class="pre">msgpack</span></code> library.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Docs written in pickle format were saved all together
as a list, which means they’re all loaded into memory at once
before streaming one by one. Mind your RAM usage, especially when
reading many docs!</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When writing docs in binary format, spaCy’s built-in
<code class="docutils literal notranslate"><span class="pre">spacy.Doc.to_bytes()</span></code> method is used, but when reading the data
back in <a class="reference internal" href="#textacy.io.spacy.read_spacy_docs" title="textacy.io.spacy.read_spacy_docs"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_spacy_docs()</span></code></a>, experimental and <em>unofficial</em>
work-arounds are used to allow for all the docs in <code class="docutils literal notranslate"><span class="pre">data</span></code> to be
read from the same file. If spaCy changes, this code could break,
so use this functionality at your own risk!</p>
</div>
</p></li>
<li><p><strong>lang</strong> – Already-instantiated <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> object, or the string name
by which it can be loaded, used to process the docs written to disk
at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>. Note that this is only applicable when <code class="docutils literal notranslate"><span class="pre">format=&quot;binary&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Next deserialized document.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><strong>ValueError</strong></a> – if format is not “pickle” or “binary”, or if <code class="docutils literal notranslate"><span class="pre">lang</span></code> is not
    provided when <code class="docutils literal notranslate"><span class="pre">format=&quot;binary&quot;</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.spacy.write_spacy_docs">
<code class="sig-prename descclassname">textacy.io.spacy.</code><code class="sig-name descname">write_spacy_docs</code><span class="sig-paren">(</span><em class="sig-param">data: Union[spacy.tokens.doc.Doc, Iterable[spacy.tokens.doc.Doc]], filepath: Union[str, pathlib.Path], *, make_dirs: bool = False, format: str = 'pickle', exclude: Sequence[str] = ('tensor',), include_tensor: Optional[bool] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/textacy/io/spacy.html#write_spacy_docs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.spacy.write_spacy_docs" title="Permalink to this definition">¶</a></dt>
<dd><p>Write one or more <code class="docutils literal notranslate"><span class="pre">Doc</span></code> s to disk at <code class="docutils literal notranslate"><span class="pre">filepath</span></code> in either pickle or binary format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – A single <code class="docutils literal notranslate"><span class="pre">Doc</span></code> or a sequence of <code class="docutils literal notranslate"><span class="pre">Doc</span></code> s to write to disk.</p></li>
<li><p><strong>filepath</strong> – Path to file on disk to which data will be written.</p></li>
<li><p><strong>make_dirs</strong> – If True, automatically create (sub)directories
if not already present in order to write <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
<li><p><strong>format</strong> (<em>{&quot;pickle&quot;</em><em>, </em><em>&quot;binary&quot;}</em>) – <p>Format of the data written to disk.
If “pickle”, use python’s stdlib <code class="docutils literal notranslate"><span class="pre">pickle</span></code>; if “binary”, use
the 3rd-party <code class="docutils literal notranslate"><span class="pre">msgpack</span></code> library.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When writing docs in pickle format, all the docs in <code class="docutils literal notranslate"><span class="pre">data</span></code>
must be saved as a list, which means they’re all loaded into memory.
Mind your RAM usage, especially when writing many docs!</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When writing docs in binary format, spaCy’s built-in
<code class="docutils literal notranslate"><span class="pre">spacy.Doc.to_bytes()</span></code> method is used, but when reading the data
back in <a class="reference internal" href="#textacy.io.spacy.read_spacy_docs" title="textacy.io.spacy.read_spacy_docs"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_spacy_docs()</span></code></a>, experimental and <em>unofficial</em>
work-arounds are used to allow for all the docs in <code class="docutils literal notranslate"><span class="pre">data</span></code> to be
read from the same file. If spaCy changes, this code could break,
so use this functionality at your own risk!</p>
</div>
</p></li>
<li><p><strong>exclude</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – String names of serialization fields to exclude;
see <a class="reference external" href="https://spacy.io/api/doc#serialization-fields">https://spacy.io/api/doc#serialization-fields</a> for options.
By default, excludes tensors in order to reproduce existing behavior
of <code class="docutils literal notranslate"><span class="pre">include_tensor=False</span></code>.</p></li>
<li><p><strong>include_tensor</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – DEPRECATED! Use <code class="docutils literal notranslate"><span class="pre">exclude</span></code> instead.
If False, <code class="docutils literal notranslate"><span class="pre">Doc</span></code> tensors are not written
to disk; otherwise, they are. Note that this is only applicable when
<code class="docutils literal notranslate"><span class="pre">format=&quot;binary&quot;</span></code>. Also note that including tensors <em>significantly</em>
increases the file size of serialized docs.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><strong>ValueError</strong></a> – if format is not “pickle” or “binary”</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.http"></span><div class="section" id="http">
<h2>HTTP<a class="headerlink" href="#http" title="Permalink to this headline">¶</a></h2>
<p>Functions for reading data from URLs via streaming HTTP requests and either
reading it into memory or writing it directly to disk.</p>
<dl class="function">
<dt id="textacy.io.http.read_http_stream">
<code class="sig-prename descclassname">textacy.io.http.</code><code class="sig-name descname">read_http_stream</code><span class="sig-paren">(</span><em class="sig-param">url: str</em>, <em class="sig-param">*</em>, <em class="sig-param">lines: bool = False</em>, <em class="sig-param">decode_unicode: bool = False</em>, <em class="sig-param">chunk_size: int = 1024</em>, <em class="sig-param">auth: Optional[Tuple[str</em>, <em class="sig-param">str]] = None</em><span class="sig-paren">)</span> &#x2192; Union[Iterable[str], Iterable[bytes]]<a class="reference internal" href="../_modules/textacy/io/http.html#read_http_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.http.read_http_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from <code class="docutils literal notranslate"><span class="pre">url</span></code> in a stream, either all at once or line-by-line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL to which a GET request is made for data.</p></li>
<li><p><strong>lines</strong> – If False, yield all of the data at once; otherwise, yield data line-by-line.</p></li>
<li><p><strong>decode_unicode</strong> – If True, yield data as unicode, where the encoding
is taken from the HTTP response headers; otherwise, yield bytes.</p></li>
<li><p><strong>chunk_size</strong> – Number of bytes read into memory per chunk.
Because decoding may occur, this is not necessarily the length of each chunk.</p></li>
<li><p><strong>auth</strong> – <p>(username, password) pair for simple HTTP authentication required (if at all)
to access the data at <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="http://docs.python-requests.org/en/master/user/authentication/">http://docs.python-requests.org/en/master/user/authentication/</a></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is True, the next line in the response data,
which is bytes if <code class="docutils literal notranslate"><span class="pre">decode_unicode</span></code> is False or unicode otherwise.
If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is False, yields the full response content, either as bytes
or unicode.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.http.write_http_stream">
<code class="sig-prename descclassname">textacy.io.http.</code><code class="sig-name descname">write_http_stream</code><span class="sig-paren">(</span><em class="sig-param">url: str, filepath: Union[str, pathlib.Path], *, mode: str = 'wt', encoding: Optional[str] = None, make_dirs: bool = False, chunk_size: int = 1024, auth: Optional[Tuple[str, str]] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/textacy/io/http.html#write_http_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.http.write_http_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Download data from <code class="docutils literal notranslate"><span class="pre">url</span></code> in a stream, and write successive chunks
to disk at <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL to which a GET request is made for data.</p></li>
<li><p><strong>filepath</strong> – Path to file on disk to which data will be written.</p></li>
<li><p><strong>mode</strong> – Mode with which <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is opened.</p></li>
<li><p><strong>encoding</strong> – <p>Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">filepath</span></code>. Only applicable in text mode.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The encoding on the HTTP response is inferred from its
headers, or set to ‘utf-8’ as a fall-back in the case that no
encoding is detected. It is <em>not</em> set by <code class="docutils literal notranslate"><span class="pre">encoding</span></code>.</p>
</div>
</p></li>
<li><p><strong>make_dirs</strong> – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
<li><p><strong>chunk_size</strong> – Number of bytes read into memory per chunk.
Because decoding may occur, this is not necessarily the length of each chunk.</p></li>
<li><p><strong>auth</strong> – <p>(username, password) pair for simple HTTP authentication required (if at all)
to access the data at <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="http://docs.python-requests.org/en/master/user/authentication/">http://docs.python-requests.org/en/master/user/authentication/</a></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.utils"></span><div class="section" id="io-utils">
<h2>IO Utils<a class="headerlink" href="#io-utils" title="Permalink to this headline">¶</a></h2>
<p>Functions to help read and write data to disk in a variety of formats.</p>
<dl class="function">
<dt id="textacy.io.utils.open_sesame">
<code class="sig-prename descclassname">textacy.io.utils.</code><code class="sig-name descname">open_sesame</code><span class="sig-paren">(</span><em class="sig-param">filepath: Union[str, pathlib.Path], *, mode: str = 'rt', encoding: Optional[str] = None, errors: Optional[str] = None, newline: Optional[str] = None, compression: str = 'infer', make_dirs: bool = False</em><span class="sig-paren">)</span> &#x2192; IO<a class="reference internal" href="../_modules/textacy/io/utils.html#open_sesame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.open_sesame" title="Permalink to this definition">¶</a></dt>
<dd><p>Open file <code class="docutils literal notranslate"><span class="pre">filepath</span></code>. Automatically handle file compression, relative
paths and symlinks, and missing intermediate directory creation, as needed.</p>
<p><code class="docutils literal notranslate"><span class="pre">open_sesame</span></code> may be used as a drop-in replacement for <a class="reference external" href="https://docs.python.org/3.6/library/io.html#io.open" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">io.open()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – Path on disk (absolute or relative) of the file to open.</p></li>
<li><p><strong>mode</strong> – The mode in which <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is opened.</p></li>
<li><p><strong>encoding</strong> – Name of the encoding used to decode or encode <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.
Only applicable in text mode.</p></li>
<li><p><strong>errors</strong> – String specifying how encoding/decoding errors are handled.
Only applicable in text mode.</p></li>
<li><p><strong>newline</strong> – String specifying how universal newlines mode works.
Only applicable in text mode.</p></li>
<li><p><strong>compression</strong> – Type of compression, if any, with which <code class="docutils literal notranslate"><span class="pre">filepath</span></code>
is read from or written to disk. If None, no compression is used;
if ‘infer’, compression is inferrred from the extension on <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
<li><p><strong>make_dirs</strong> – If True, automatically create (sub)directories
if not already present in order to write <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>file object</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#TypeError" title="(in Python v3.6)"><strong>TypeError</strong></a> – if <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is not a string</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><strong>ValueError</strong></a> – if <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is specified but <code class="docutils literal notranslate"><span class="pre">mode</span></code> is binary</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#OSError" title="(in Python v3.6)"><strong>OSError</strong></a> – if <code class="docutils literal notranslate"><span class="pre">filepath</span></code> doesn’t exist but <code class="docutils literal notranslate"><span class="pre">mode</span></code> is read</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.coerce_content_type">
<code class="sig-prename descclassname">textacy.io.utils.</code><code class="sig-name descname">coerce_content_type</code><span class="sig-paren">(</span><em class="sig-param">content: Union[str, bytes], file_mode: str</em><span class="sig-paren">)</span> &#x2192; Union[str, bytes]<a class="reference internal" href="../_modules/textacy/io/utils.html#coerce_content_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.coerce_content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>If the <cite>content</cite> to be written to file and the <cite>file_mode</cite> used to open it
are incompatible (either bytes with text mode or unicode with bytes mode),
try to coerce the content type so it can be written.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.split_records">
<code class="sig-prename descclassname">textacy.io.utils.</code><code class="sig-name descname">split_records</code><span class="sig-paren">(</span><em class="sig-param">items: Iterable, content_field: Union[str, int], itemwise: bool = False</em><span class="sig-paren">)</span> &#x2192; Iterable<a class="reference internal" href="../_modules/textacy/io/utils.html#split_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.split_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Split records’ content (text) from associated metadata, but keep them paired
together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> – An iterable of dicts, e.g. as read from disk by
<a class="reference internal" href="#textacy.io.json.read_json" title="textacy.io.json.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json(lines=True)</span></code></a>,
or an iterable of lists, e.g. as read from disk by
<a class="reference internal" href="#textacy.io.csv.read_csv" title="textacy.io.csv.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>.</p></li>
<li><p><strong>content_field</strong> – If str, key in each dict item whose value is the item’s content (text);
if int, index of the value in each list item corresponding to the item’s content (text).</p></li>
<li><p><strong>itemwise</strong> – If True, content + metadata are paired item-wise
as an iterable of (content, metadata) 2-tuples; if False, content +
metadata are paired by position in two parallel iterables in the form of
a (iterable(content), iterable(metadata)) 2-tuple.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>If <code class="docutils literal notranslate"><span class="pre">itemwise</span></code> is True and <code class="docutils literal notranslate"><span class="pre">items</span></code> is Iterable[dict];
the first element in each tuple is the item’s content,
the second element is its metadata as a dictionary.</p>
<p>Generator(Tuple[str, list]): If <code class="docutils literal notranslate"><span class="pre">itemwise</span></code> is True and <code class="docutils literal notranslate"><span class="pre">items</span></code> is Iterable[list];
the first element in each tuple is the item’s content,
the second element is its metadata as a list.</p>
<p>Tuple[Iterable[str], Iterable[dict]]: If <code class="docutils literal notranslate"><span class="pre">itemwise</span></code> is False and
<code class="docutils literal notranslate"><span class="pre">items</span></code> is Iterable[dict];
the first element of the tuple is an iterable of items’ contents,
the second is an iterable of their metadata dicts.</p>
<p>Tuple[Iterable[str], Iterable[list]]: If <code class="docutils literal notranslate"><span class="pre">itemwise</span></code> is False and
<code class="docutils literal notranslate"><span class="pre">items</span></code> is Iterable[list];
the first element of the tuple is an iterable of items’ contents,
the second is an iterable of their metadata lists.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Generator(Tuple[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a>])</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.unzip">
<code class="sig-prename descclassname">textacy.io.utils.</code><code class="sig-name descname">unzip</code><span class="sig-paren">(</span><em class="sig-param">seq: Iterable</em><span class="sig-paren">)</span> &#x2192; Tuple<a class="reference internal" href="../_modules/textacy/io/utils.html#unzip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.unzip" title="Permalink to this definition">¶</a></dt>
<dd><p>Borrowed from <code class="docutils literal notranslate"><span class="pre">toolz.sandbox.core.unzip</span></code>, but using cytoolz instead of toolz
to avoid the additional dependency.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.get_filepaths">
<code class="sig-prename descclassname">textacy.io.utils.</code><code class="sig-name descname">get_filepaths</code><span class="sig-paren">(</span><em class="sig-param">dirpath: Union[str, pathlib.Path], *, match_regex: Optional[str] = None, ignore_regex: Optional[str] = None, extension: Optional[str] = None, ignore_invisible: bool = True, recursive: bool = False</em><span class="sig-paren">)</span> &#x2192; Iterable[str]<a class="reference internal" href="../_modules/textacy/io/utils.html#get_filepaths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.get_filepaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield full paths of files on disk under directory <code class="docutils literal notranslate"><span class="pre">dirpath</span></code>, optionally
filtering for or against particular patterns or file extensions and
crawling all subdirectories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirpath</strong> – Path to directory on disk where files are stored.</p></li>
<li><p><strong>match_regex</strong> – Regular expression pattern.
Only files whose names match this pattern are included.</p></li>
<li><p><strong>ignore_regex</strong> – Regular expression pattern.
Only files whose names <em>do not</em> match this pattern are included.</p></li>
<li><p><strong>extension</strong> – File extension, e.g. “.txt” or “.json”.
Only files whose extensions match are included.</p></li>
<li><p><strong>ignore_invisibl</strong> – If True, ignore invisible files,
i.e. those that begin with a period.; otherwise, include them.</p></li>
<li><p><strong>recursive</strong> – If True, iterate recursively through subdirectories
in search of files to include; otherwise, only return files located
directly under <code class="docutils literal notranslate"><span class="pre">dirpath</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Next file’s name, including the full path on disk.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#OSError" title="(in Python v3.6)"><strong>OSError</strong></a> – if <code class="docutils literal notranslate"><span class="pre">dirpath</span></code> is not found on disk</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.download_file">
<code class="sig-prename descclassname">textacy.io.utils.</code><code class="sig-name descname">download_file</code><span class="sig-paren">(</span><em class="sig-param">url: str</em>, <em class="sig-param">*</em>, <em class="sig-param">filename: str = None</em>, <em class="sig-param">dirpath: Union[str</em>, <em class="sig-param">pathlib.Path] = PosixPath('/Users/burtondewilde/chartbeat/github/textacy/textacy/data')</em>, <em class="sig-param">force: bool = False</em><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="../_modules/textacy/io/utils.html#download_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.download_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a file from <code class="docutils literal notranslate"><span class="pre">url</span></code> and save it to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – Web address from which to download data.</p></li>
<li><p><strong>filename</strong> – Name of the file to which downloaded data is saved.
If None, a filename will be inferred from the <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p></li>
<li><p><strong>dirpath</strong> – Full path to the directory on disk
under which downloaded data will be saved as <code class="docutils literal notranslate"><span class="pre">filename</span></code>.</p></li>
<li><p><strong>force</strong> – If True, download the data even if it already exists at
<code class="docutils literal notranslate"><span class="pre">dirpath/filename</span></code>; otherwise, only download if the data doesn’t
already exist on disk.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Full path of file saved to disk.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.get_filename_from_url">
<code class="sig-prename descclassname">textacy.io.utils.</code><code class="sig-name descname">get_filename_from_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../_modules/textacy/io/utils.html#get_filename_from_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.get_filename_from_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Derive a filename from a URL’s path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> – URL from which to extract a filename.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filename in URL.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.unpack_archive">
<code class="sig-prename descclassname">textacy.io.utils.</code><code class="sig-name descname">unpack_archive</code><span class="sig-paren">(</span><em class="sig-param">filepath: Union[str, pathlib.Path], *, extract_dir: Union[str, pathlib.Path] = None</em><span class="sig-paren">)</span> &#x2192; Union[str, pathlib.Path]<a class="reference internal" href="../_modules/textacy/io/utils.html#unpack_archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.unpack_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data from a zip or tar archive file into a directory
(or do nothing if the file isn’t an archive).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – Full path to file on disk from which archived contents will be extracted.</p></li>
<li><p><strong>extract_dir</strong> – Full path of the directory into which contents will be extracted.
If not provided, the same directory as <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Path to directory of extracted contents.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="vsm_and_tm.html" title="Previous document">Vectorization &amp; Topic Modeling</a>
        </li>
        <li>
          <a href="viz.html" title="Next document">Visualization</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/textacy_logo.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=chartbeat-labs&repo=textacy&type=watch&count=False&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="root.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="lang_doc_corpus.html">Lang, Doc, Corpus</a></li>
<li class="toctree-l2"><a class="reference internal" href="spacier.html">spaCy extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html">Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_processing.html">Text (Pre-)Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="information_extraction.html">Information Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="vsm_and_tm.html">Vectorization &amp; Topic Modeling</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="viz.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="augmentation.html">Data Augmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="misc.html">Miscellany</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="root.html">API Reference</a><ul>
      <li>Previous: <a href="vsm_and_tm.html" title="previous chapter">Vectorization &amp; Topic Modeling</a></li>
      <li>Next: <a href="viz.html" title="next chapter">Visualization</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020 Chartbeat, Inc.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api_reference/io.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>